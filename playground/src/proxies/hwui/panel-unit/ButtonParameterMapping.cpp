#include <proxies/hwui/panel-unit/ButtonParameterMapping.h>

ButtonParameterMapping::ButtonParameterMapping()
{
  addMapping(Buttons::BUTTON_0, { 0, 15, 294 });
  addMapping(Buttons::BUTTON_1, { 38, 49, 296 });
  addMapping(Buttons::BUTTON_2, { 46, 50 });
  addMapping(Buttons::BUTTON_3, { 19, 34, 295 });
  addMapping(Buttons::BUTTON_4, { 2 });
  addMapping(Buttons::BUTTON_5, { 40, 42 });
  addMapping(Buttons::BUTTON_6, { 48 });
  addMapping(Buttons::BUTTON_7, { 21 });
  addMapping(Buttons::BUTTON_8, { 4 });
  addMapping(Buttons::BUTTON_9, { 44, 297 });
  addMapping(Buttons::BUTTON_10, { 51, 52 });
  addMapping(Buttons::BUTTON_11, { 23 });
  addMapping(Buttons::BUTTON_12, { 6 });
  addMapping(Buttons::BUTTON_13, { 14 });
  addMapping(Buttons::BUTTON_14, { 33 });
  addMapping(Buttons::BUTTON_15, { 25 });
  addMapping(Buttons::BUTTON_16, { 8 });
  addMapping(Buttons::BUTTON_17, { 17, 18 });
  addMapping(Buttons::BUTTON_18, { 36, 37 });
  addMapping(Buttons::BUTTON_19, { 27 });
  addMapping(Buttons::BUTTON_20, { 10, 16 });
  addMapping(Buttons::BUTTON_21, { 12 });
  addMapping(Buttons::BUTTON_22, { 31 });
  addMapping(Buttons::BUTTON_23, { 29, 35 });
  addMapping(Buttons::BUTTON_24, { 53, 56, 55 });
  addMapping(Buttons::BUTTON_25, { 71, 73 });
  addMapping(Buttons::BUTTON_26, { 101, 103 });
  addMapping(Buttons::BUTTON_27, { 83, 86, 85 });
  addMapping(Buttons::BUTTON_28, { 57, 59 });
  addMapping(Buttons::BUTTON_29, { 74 });
  addMapping(Buttons::BUTTON_30, { 104 });
  addMapping(Buttons::BUTTON_31, { 87, 89 });
  addMapping(Buttons::BUTTON_32, { 301 });
  addMapping(Buttons::BUTTON_33, { 75 });
  addMapping(Buttons::BUTTON_34, { 105 });
  addMapping(Buttons::BUTTON_35, { 302 });
  addMapping(Buttons::BUTTON_36, { 60, 62, 63 });
  addMapping(Buttons::BUTTON_37, { 76 });
  addMapping(Buttons::BUTTON_38, { 106 });
  addMapping(Buttons::BUTTON_39, { 90, 92, 93 });
  addMapping(Buttons::BUTTON_40, { 64, 66, 67 });
  addMapping(Buttons::BUTTON_41, { 78, 80 });
  addMapping(Buttons::BUTTON_42, { 108, 110 });
  addMapping(Buttons::BUTTON_43, { 94, 96, 97 });
  addMapping(Buttons::BUTTON_44, { 68, 70, 303 });
  addMapping(Buttons::BUTTON_45, { 81 });
  addMapping(Buttons::BUTTON_46, { 111 });
  addMapping(Buttons::BUTTON_47, { 98, 100, 304 });
  addMapping(Buttons::BUTTON_48, { 156 });
  addMapping(Buttons::BUTTON_49, { 113 });
  addMapping(Buttons::BUTTON_50, { 136 });
  addMapping(Buttons::BUTTON_51, { 169, 171 });
  addMapping(Buttons::BUTTON_52, { 158 });
  addMapping(Buttons::BUTTON_53, { 115, 118, 117 });
  addMapping(Buttons::BUTTON_54, { 138 });
  addMapping(Buttons::BUTTON_55, { 172, 174 });
  addMapping(Buttons::BUTTON_56, { 160 });
  addMapping(Buttons::BUTTON_57, { 119, 305, 121 });
  addMapping(Buttons::BUTTON_58, { 140, 143, 142 });
  addMapping(Buttons::BUTTON_59, { 175, 177 });
  addMapping(Buttons::BUTTON_60, { 162 });
  addMapping(Buttons::BUTTON_61, { 123, 126, 125, 127 });
  addMapping(Buttons::BUTTON_62, { 144, 147, 146 });
  addMapping(Buttons::BUTTON_63, { 178, 180 });
  addMapping(Buttons::BUTTON_64, { 164, 166, 167 });
  addMapping(Buttons::BUTTON_65, { 129, 132, 131 });
  addMapping(Buttons::BUTTON_66, { 148, 150, 152 });
  addMapping(Buttons::BUTTON_67, { 181, 183, 184 });
  addMapping(Buttons::BUTTON_68, { 299, 168 });
  addMapping(Buttons::BUTTON_69, { 133, 135 });
  addMapping(Buttons::BUTTON_70, { 153, 155 });
  addMapping(Buttons::BUTTON_71, { 185, 187 });

  addMapping(Buttons::BUTTON_72, { 214 });
  addMapping(Buttons::BUTTON_73, { 188, 190, 191 });

  addMapping(Buttons::BUTTON_74, { 225, 227 });
  addMapping(Buttons::BUTTON_75, { 243 });

  addMapping(Buttons::BUTTON_76, { 307, 213 });
  addMapping(Buttons::BUTTON_77, { 192, 194, 196 });

  addMapping(Buttons::BUTTON_78, { 229, 231, 232 });
  addMapping(Buttons::BUTTON_79, { 244 });

  addMapping(Buttons::BUTTON_80, { 211, 216, 218 });
  addMapping(Buttons::BUTTON_81, { 199, 197 });

  addMapping(Buttons::BUTTON_82, { 233 });
  addMapping(Buttons::BUTTON_83, { 245 });

  addMapping(Buttons::BUTTON_84, { 308, 310 });
  addMapping(Buttons::BUTTON_85, { 201, 203 });

  addMapping(Buttons::BUTTON_86, { 235, 237 });
  addMapping(Buttons::BUTTON_87, { 246 });

  addMapping(Buttons::BUTTON_88, { 219, 221, 222 });
  addMapping(Buttons::BUTTON_89, { 204, 207, 206 });

  addMapping(Buttons::BUTTON_90, { 238, 240 });
  addMapping(Buttons::BUTTON_91, { 249, 250, 252, 253 });

  addMapping(Buttons::BUTTON_92, { 223 });
  addMapping(Buttons::BUTTON_93, { 209 });

  addMapping(Buttons::BUTTON_94, { 241 });
  addMapping(Buttons::BUTTON_95, { 247, 248, 312 });
}

ButtonParameterMapping::~ButtonParameterMapping()
{
}

void ButtonParameterMapping::addMapping(Buttons buttonID, std::initializer_list<int> parameterIDs)
{
  for(int paramID : parameterIDs)
  {
    g_assert(m_paramIDToButtonID.find(paramID) == m_paramIDToButtonID.end());
    m_paramIDToButtonID[paramID] = buttonID;
  }

  g_assert(m_buttonIDToParam.find(buttonID) == m_buttonIDToParam.end());
  m_buttonIDToParam[buttonID] = std::list<int>(parameterIDs);
}

void ButtonParameterMapping::forEachButton(std::function<void(Buttons, const std::list<int> &)> cb)
{
  for(auto &a : m_buttonIDToParam)
    cb(a.first, a.second);
}

Buttons ButtonParameterMapping::findButton(int param) const
{
  auto it = m_paramIDToButtonID.find(param);

  if(it != m_paramIDToButtonID.end())
    return it->second;

  return Buttons::INVALID;
}

std::list<int> ButtonParameterMapping::findParameters(Buttons button) const
{
  auto it = m_buttonIDToParam.find(button);

  if(it != m_buttonIDToParam.end())
    return it->second;

  return std::list<int>();
}
